# -------------------------------------------------------------------
# Monad / 链配置
# -------------------------------------------------------------------
# Monad JSON-RPC 节点地址。
MONAD_RPC_URL=https://testnet-rpc.monad.xyz
# Monad 链 ID（测试网默认 10143）。
CHAIN_ID=10143

# -------------------------------------------------------------------
# Hunter Agent（消费方）
# -------------------------------------------------------------------
# Hunter 所有者/发送方私钥。保留 0x... 可进入 mock 支付模式。
HUNTER_PRIVATE_KEY=0x...
# Hunter HTTP 端口。
HUNTER_PORT=3002
# true：使用 ReAct LLM 流程；false：使用 scripted 固定流程。
HUNTER_USE_REACT=false
# Commander(ReAct) 模式预算上限（仅 mode=commander 生效）。
# 最多允许的 phase 数量。
COMMANDER_MAX_PHASES=6
# 单个 phase 最大执行时长（毫秒）；超时记为 phase 失败，供 planner 决定是否重试。
COMMANDER_PHASE_TIMEOUT_MS=45000
# 单次子任务最大预算（wei）。
COMMANDER_MAX_PER_PHASE_WEI=20000000000000000
# 整个 mission 总预算上限（wei）。
COMMANDER_MAX_TOTAL_WEI=60000000000000000
# Hunter 对外公开基础地址（用于 identity/capability 元数据）。
HUNTER_PUBLIC_ENDPOINT=http://localhost:3002

# 可选固定 agentId；留空则自动按 chainId:wallet 生成。
HUNTER_AGENT_ID=
# 可读身份信息字段。
HUNTER_AGENT_NAME=Rebel Hunter
HUNTER_AGENT_DESCRIPTION=
HUNTER_AGENT_IMAGE=
# 信任模型标签，逗号分隔。
HUNTER_TRUST_MODELS=reputation,crypto-economic

# 可选直连发现探测地址（逗号分隔 URL）。
DYNAMIC_AGENT_ENDPOINTS=http://localhost:3001

# true：启动时调用 IdentityRegistry.register(agentURI)。
HUNTER_REGISTER_ONCHAIN=false
# 传给 register(agentURI) 的 URI。留空默认 {HUNTER_PUBLIC_ENDPOINT}/identity
HUNTER_AGENT_URI=

# true：注册后为 Hunter 调用 setAgentWallet(...)。
HUNTER_SET_AGENT_WALLET_ONCHAIN=false
# setAgentWallet 目标钱包地址。留空时回退到 IDENTITY_AGENT_WALLET_ADDRESS，
# 再回退到 Hunter 所有者钱包。
HUNTER_AGENT_WALLET_ADDRESS=
# 新钱包签名私钥（必须控制 HUNTER_AGENT_WALLET_ADDRESS）。
# 当目标钱包与 Hunter 所有者钱包不一致时必填。
HUNTER_AGENT_WALLET_SIGNER_PRIVATE_KEY=

# true：将反馈写入链上 ReputationRegistry。
HUNTER_SUBMIT_ONCHAIN_FEEDBACK=false
# Hunter 自动提交反馈时使用的默认标签。
HUNTER_FEEDBACK_TAG1=quality
HUNTER_FEEDBACK_TAG2=delivery

# -------------------------------------------------------------------
# Writer Agent（提供方）
# -------------------------------------------------------------------
# Writer 所有者/发送方私钥。保留 0x... 可进入 mock 支付模式。
WRITER_PRIVATE_KEY=0x...
# 可选显式 Writer 地址。mock 模式下会忽略。
WRITER_ADDRESS=0x...
# Writer HTTP 端口。
WRITER_PORT=3001
# true：在 Writer /execute 中跳过链上支付校验。
WRITER_SKIP_PAYMENT_VERIFICATION=false
# Writer 对外公开基础地址。
WRITER_PUBLIC_ENDPOINT=http://localhost:3001

# 广播给发现系统的服务元数据。
WRITER_SERVICE_ID=writer-v1
WRITER_SERVICE_NAME=AI Content Writer
WRITER_SERVICE_DESCRIPTION=

# 可选固定 agentId；留空则自动按 chainId:wallet 生成。
WRITER_AGENT_ID=
# 可读身份信息字段。
WRITER_AGENT_NAME=Rebel Writer
WRITER_AGENT_DESCRIPTION=
WRITER_AGENT_IMAGE=
# 信任模型标签，逗号分隔。
WRITER_TRUST_MODELS=reputation,crypto-economic

# true：启动时调用 IdentityRegistry.register(agentURI)。
WRITER_REGISTER_ONCHAIN=false
# 传给 register(agentURI) 的 URI。留空默认 {WRITER_PUBLIC_ENDPOINT}/identity
WRITER_AGENT_URI=

# true：注册后为 Writer 调用 setAgentWallet(...)。
WRITER_SET_AGENT_WALLET_ONCHAIN=false
# setAgentWallet 目标钱包地址。留空时回退到 IDENTITY_AGENT_WALLET_ADDRESS，
# 再回退到 Writer 所有者钱包。
WRITER_AGENT_WALLET_ADDRESS=
# 新钱包签名私钥（必须控制 WRITER_AGENT_WALLET_ADDRESS）。
# 当目标钱包与 Writer 所有者钱包不一致时必填。
WRITER_AGENT_WALLET_SIGNER_PRIVATE_KEY=

# Writer 能力广告心跳周期（毫秒）与动态注册 TTL（秒）。
WRITER_ADVERTISE_INTERVAL_MS=30000
WRITER_ADVERTISE_TTL_SECONDS=120

# true：writer /reputation 读取链上信誉摘要。
WRITER_READ_ONCHAIN_REPUTATION=false

# -------------------------------------------------------------------
# 前端
# -------------------------------------------------------------------
FRONTEND_PORT=3000

# -------------------------------------------------------------------
# x402 支付
# -------------------------------------------------------------------
# 单次请求价格（wei，默认 0.01 MON）。
PRICE_WEI=10000000000000000
# 支付上下文超时时间（秒）。
PAYMENT_TIMEOUT_SECONDS=60

# -------------------------------------------------------------------
# LLM（OpenAI 兼容）
# -------------------------------------------------------------------
# 如果同时配置 KIMI_API_KEY 和 OPENAI_API_KEY，优先使用 Kimi。
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
# 可选自定义 OpenAI 兼容 base URL。
OPENAI_BASE_URL=

# Kimi（Moonshot）OpenAI 兼容端点。
KIMI_API_KEY=
KIMI_MODEL=kimi-k2.5
KIMI_BASE_URL=https://api.moonshot.cn/v1

# -------------------------------------------------------------------
# Registry / 共享持久化 / 链上合约
# -------------------------------------------------------------------
# Registry 服务监听端口和访问 URL（hunter/writer 会用到）。
REGISTRY_PORT=3003
REGISTRY_SERVICE_URL=http://localhost:3003

# 静态服务注册表路径。
REGISTRY_PATH=./registry/services.json
# 动态服务注册表持久化路径。
DYNAMIC_REGISTRY_PATH=./registry/dynamic-services.json
# 反馈持久化路径。
FEEDBACK_STORE_PATH=./registry/feedback-store.json
# 服务级反馈与声誉聚合持久化路径。
SERVICE_FEEDBACK_STORE_PATH=./registry/service-feedback-store.json
# 链上身份状态持久化路径（注册信息 + wallet 绑定交易信息）。
ONCHAIN_IDENTITY_STORE_PATH=./registry/onchain-identity-store.json

# ERC-8004 合约地址。
IDENTITY_REGISTRY_ADDRESS=
REPUTATION_REGISTRY_ADDRESS=

# setAgentWallet 的全局目标地址/签名私钥回退值。
# 各 Agent 自身变量（HUNTER_*/WRITER_*）优先级更高。
IDENTITY_AGENT_WALLET_ADDRESS=
IDENTITY_AGENT_WALLET_SIGNER_PRIVATE_KEY=

# setAgentWallet 签名参数配置。
# 签名 deadline 窗口（当前时间 + N 秒）。
IDENTITY_SET_WALLET_DEADLINE_SECONDS=300
# EIP-712 的 domain 名称/版本 和 primary type 名称。
IDENTITY_SET_WALLET_DOMAIN_NAME=ERC-8004 IdentityRegistry
IDENTITY_SET_WALLET_DOMAIN_VERSION=1.1
IDENTITY_SET_WALLET_TYPE_NAME=SetAgentWallet
# typed message 是否包含 owner 字段。
IDENTITY_SET_WALLET_INCLUDE_OWNER=false
# true：当当前 domain/type 签名失败时，自动回退 legacy 配置再重试。
IDENTITY_SET_WALLET_ALLOW_LEGACY_FALLBACK=true
