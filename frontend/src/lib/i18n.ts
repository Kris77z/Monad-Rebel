import type { LanguageCode } from '@/types/agent';

export const SUPPORTED_LOCALES: LanguageCode[] = ['en-US', 'zh-CN'];
export const DEFAULT_LOCALE: LanguageCode = 'en-US';
export const LOCALE_STORAGE_KEY = 'rebel.locale';

type MessageDictionary = Record<string, string>;
type MessageVariables = Record<string, string | number>;

const EN_US_MESSAGES: MessageDictionary = {
  'locale.en-US': 'EN',
  'locale.zh-CN': 'ä¸­æ–‡',
  'dashboard.history': 'History',
  'dashboard.historyTooltip': 'Mission history',
  'dashboard.network': 'Monad Testnet',
  'dashboard.status.IDLE': 'IDLE',
  'dashboard.status.RUNNING': 'RUNNING',
  'dashboard.status.COMPLETED': 'COMPLETED',
  'dashboard.status.ERROR': 'ERROR',
  'dashboard.tab.agent': 'agent.sys',
  'dashboard.tab.mission': 'mission.log',
  'dashboard.tab.mesh': 'mesh.net',
  'dashboard.errorPrefix': 'Run error',
  'goal.placeholder': 'describe your mission...',
  'goal.commandHint': 'Type commands like `// write` or `// å†™ä½œ`, or use the preset chips below.',
  'goal.running': 'running...',
  'goal.mode.commander': 'COMMANDER',
  'goal.mode.single': 'SINGLE',
  'goal.mode.commanderHint': 'multi-phase mission',
  'goal.mode.singleHint': 'single-step mission',
  'preset.command.write': '// write',
  'preset.command.audit': '// audit',
  'preset.command.fullAudit': '// full-audit',
  'preset.command.tokenReport': '// token-report',
  'preset.command.defiStrategy': '// defi-strategy',
  'preset.param.contract': 'Contract',
  'preset.param.token': 'Token',
  'preset.placeholder.contract': '0x... or contract name',
  'preset.placeholder.token': 'token name or 0x address',
  'preset.cancel': 'Cancel',
  'preset.execute': 'Execute',
  'preset.goal.write': 'Write a concise analysis of Monad parallel execution and why it matters for on-chain AI agents.',
  'preset.goal.audit': 'Audit the contract {address} for loss-of-funds vulnerabilities: check reentrancy, access control, and unchecked returns.',
  'preset.goal.fullAudit': 'Perform a full security review of the contract {address}: first audit the Solidity code for vulnerabilities, then scan for rug-pull signals, then optimize gas usage, and finally write a comprehensive security report.',
  'preset.goal.tokenReport': 'Generate an investment report for {token}: first scan the contract for risks, then analyze its DeFi ecosystem potential, and write a final investment thesis with risk-reward analysis.',
  'preset.goal.defiStrategy': 'Build a DeFi strategy on Monad: first analyze the current yield landscape, then scan the top protocol tokens for safety, and produce a written portfolio allocation plan.',
  'history.empty': 'no missions yet',
  'history.clear': 'Clear history',
  'history.completed': 'COMPLETED',
  'history.error': 'ERROR',
  'chain.block': 'block',
  'chain.gas': 'gas',
  'chain.connected': 'connected to Monad Testnet',
  'chain.disconnected': 'disconnected',
  'onboarding.shellPath': 'onboarding',
  'onboarding.skip': 'Skip to Dashboard',
  'onboarding.title': 'Create Your Agent',
  'onboarding.subtitle': 'Register an autonomous agent to operate in the Monad Agent Economy.',
  'onboarding.step.wallet': 'Wallet',
  'onboarding.step.profile': 'Profile',
  'onboarding.step.review': 'Review',
  'onboarding.step.done': 'Done',
  'onboarding.connect.title': 'Connect Your Wallet',
  'onboarding.connect.body': 'Your wallet will be bound to your Agent identity on Monad.',
  'onboarding.connect.button': 'Connect Wallet',
  'onboarding.connect.connecting': 'Connecting...',
  'onboarding.connect.via': 'via {label}',
  'onboarding.profile.title': 'Agent Profile',
  'onboarding.profile.connected': 'Connected: {address}',
  'onboarding.profile.role': 'Role',
  'onboarding.profile.name': 'Agent Name',
  'onboarding.profile.namePlaceholder': 'My First Agent',
  'onboarding.profile.description': 'Description',
  'onboarding.profile.descriptionPlaceholder': 'What does this agent do?',
  'onboarding.profile.trust': 'Trust Model',
  'onboarding.profile.back': 'Back',
  'onboarding.profile.review': 'Review',
  'onboarding.review.title': 'Review & Create',
  'onboarding.review.wallet': 'Wallet',
  'onboarding.review.role': 'Role',
  'onboarding.review.name': 'Name',
  'onboarding.review.trust': 'Trust',
  'onboarding.review.edit': 'Edit',
  'onboarding.review.create': 'Create Agent',
  'onboarding.review.creating': 'Creating...',
  'onboarding.complete.title': 'Agent Created!',
  'onboarding.complete.body': '{name} is ready on Monad.',
  'onboarding.complete.createAnother': 'Create Another',
  'onboarding.complete.goDashboard': 'Go to Dashboard',
  'onboarding.terminal.target': '> Target: Monad Testnet Â· Chain 10143',
  'onboarding.terminal.ready': '> Ready to register an autonomous agent.',
  'onboarding.terminal.command.init': '$ rebel-mesh --init',
  'onboarding.terminal.command.connectWallet': '$ connect-wallet',
  'onboarding.terminal.command.agentName': '$ agent.name = ',
  'onboarding.terminal.command.role': '$ role = ',
  'onboarding.terminal.command.registerPreview': '$ rebel-mesh register --preview',
  'onboarding.terminal.command.registerConfirm': '$ rebel-mesh register --confirm',
  'onboarding.terminal.connected': 'âœ“ Connected: {address}',
  'onboarding.terminal.network': 'âœ“ Network: Monad Testnet',
  'onboarding.terminal.launchingWallet': '> Launching wallet connector...',
  'onboarding.terminal.nameSet': 'âœ“ Name set: "{name}"',
  'onboarding.terminal.selectRole': '> Select agent role:',
  'onboarding.terminal.roleOptionHunter': '  [1] ğŸ” Hunter - Autonomous task executor',
  'onboarding.terminal.roleOptionWriter': '  [2] âœï¸  Writer - AI service provider',
  'onboarding.terminal.roleSet': 'âœ“ Role: {emoji} {role}',
  'onboarding.terminal.previewName': '  Agent Name ... {name}',
  'onboarding.terminal.previewMode': '  Run Mode ..... {mode}',
  'onboarding.terminal.previewEngine': '  Core Engine .. {engine}',
  'onboarding.terminal.previewRole': '  Role ......... {role}',
  'onboarding.terminal.previewWallet': '  Wallet ....... {wallet}',
  'onboarding.terminal.previewTrust': '  Trust Model .. {trust}',
  'onboarding.terminal.valModeHunter': 'Autonomous Hunter',
  'onboarding.terminal.valEngineV2': 'Commander V2 (ReAct)',
  'onboarding.terminal.registering': '> Registering agent...',
  'onboarding.terminal.registered': 'âœ“ Agent "{name}" registered successfully',
  'onboarding.terminal.readyForDeployment': 'âœ“ Ready for deployment',
  'onboarding.terminal.prompt.connectWallet': 'Press [Enter] to connect wallet...',
  'onboarding.terminal.prompt.begin': 'Press [Enter] to begin...',
  'onboarding.terminal.prompt.agentName': '> Please enter Agent Name: ',
  'onboarding.terminal.prompt.role': '> Select a role (1 or 2): ',
  'onboarding.terminal.prompt.register': 'Press [Enter] to connect wallet & register...',
  'onboarding.terminal.prompt.retryWallet': 'Press [Enter] to retry wallet connection...',
  'onboarding.terminal.prompt.launchDashboard': 'Press [Enter] to launch dashboard...',
  'onboarding.terminal.prompt.retry': 'Press [Enter] to retry...',
  'onboarding.terminal.walletCancelled': 'âœ— Wallet connection cancelled.',
  'onboarding.role.hunter.label': 'Hunter',
  'onboarding.role.hunter.desc': 'Discover and consume services',
  'onboarding.role.writer.label': 'Writer',
  'onboarding.role.writer.desc': 'Provide content generation services',
  'onboarding.trust.reputation': 'reputation',
  'onboarding.trust.crypto-economic': 'crypto-economic',
  'panel.memory': 'MEMORY PROFILE',
  'panel.onchain': 'ON-CHAIN',
  'panel.agentId': 'AGENT_ID',
  'panel.registered': '[ERC-8004 REGISTERED]',
  'agent.connecting': 'connecting to agent...',
  'agent.offline': 'agent offline',
  'agent.retry': 'retry',
  'agent.copied': 'Copied',
  'identity.timeout': 'Request timeout ({ms}ms)',
  'identity.offline': 'Agent offline - connection refused',
  'memory.overview': 'OVERVIEW',
  'memory.runs': 'RUNS',
  'memory.score': 'SCORE',
  'memory.spent': 'SPENT',
  'memory.hires': 'HIRES',
  'memory.skillRadar': 'SKILL RADAR',
  'memory.noSkills': 'No historical skill data.',
  'memory.coreInsights': 'CORE INSIGHTS',
  'memory.noInsights': 'No distilled lessons yet.',
  'memory.seenTimes': 'Seen {count} times',
  'memory.unavailable': 'profile unavailable',
  'memory.unavailableWithError': 'profile unavailable: {error}',
  'memory.staleCache': 'stale cache',
  'taskType.content-generation': 'Content Generation',
  'taskType.smart-contract-audit': 'Smart Contract Audit',
  'taskType.defi-analysis': 'DeFi Analysis',
  'taskType.gas-optimization': 'Gas Optimization',
  'taskType.token-scan': 'Token Scan',
  'taskType.tx-decode': 'Transaction Decode',
  'taskType.abi-interact': 'ABI Interaction',
  'taskType.yield-search': 'Yield Search',
  'live.title': 'LIVE RUN',
  'live.status': 'STATUS',
  'live.spent': 'SPENT',
  'live.txCount': 'TX_COUNT',
  'live.duration': 'DURATION',
  'live.goal': 'GOAL',
  'mesh.title': 'mesh.net',
  'mesh.kind.writer': 'WRITER',
  'mesh.kind.auditor': 'AUDITOR',
  'mesh.kind.defi': 'ANALYST',
  'mesh.kind.gas': 'GAS',
  'mesh.kind.scanner': 'SCANNER',
  'mesh.kind.decoder': 'DECODER',
  'mesh.kind.abi': 'ABI',
  'mesh.kind.yield': 'YIELD',
  'mesh.kind.unknown': 'UNKNOWN',
  'mesh.status.online': 'ONLINE',
  'mesh.status.selected': 'SELECTED',
  'mesh.status.used': 'USED',
  'mesh.status.failed': 'FAILED',
  'mesh.price': 'PRICE',
  'mesh.rep': 'REP',
  'mesh.samples': 'SAMPLES',
  'mesh.warmingUp': 'warming up',
  'mesh.lastUsed': 'LAST USED',
  'timeline.phase.thinking': 'THINKING',
  'timeline.phase.discovery': 'DISCOVERY',
  'timeline.phase.decision': 'DECISION',
  'timeline.phase.payment': 'PAYMENT',
  'timeline.phase.execution': 'EXECUTION',
  'timeline.phase.verification': 'VERIFICATION',
  'timeline.phase.complete': 'COMPLETE',
  'timeline.phaseStatus.pending': 'PENDING',
  'timeline.phaseStatus.active': 'ACTIVE',
  'timeline.phaseStatus.done': 'DONE',
  'timeline.phaseStatus.error': 'ERROR',
  'timeline.awaiting': 'awaiting mission input',
  'timeline.failed': 'mission failed before completion',
  'timeline.summary.thinking.received': 'Mission received: {goal}',
  'timeline.summary.thinking.default': 'Planning the execution strategy.',
  'timeline.summary.discovery.found': 'Discovered {count} available providers.',
  'timeline.summary.discovery.default': 'Scanning available providers.',
  'timeline.summary.decision.switched': 'Switched provider from {from} to {to}.',
  'timeline.summary.decision.selected': 'Selected provider: {id}.',
  'timeline.summary.decision.default': 'Selecting the best provider by price and reputation.',
  'timeline.summary.payment.quotedStatus': 'Quote {amount} MON, status: {status}.',
  'timeline.summary.payment.quoted': 'Received quote: {amount} MON.',
  'timeline.summary.payment.default': 'Preparing and submitting x402 payment.',
  'timeline.summary.execution.ready': 'Result ready: {content}',
  'timeline.summary.execution.default': 'Provider is executing after payment settlement.',
  'timeline.summary.verification.verifiedScore': 'Receipt verified and output scored {score}/10.',
  'timeline.summary.verification.awaiting': 'Awaiting receipt...',
  'timeline.summary.verification.verified': 'Receipt signature verification completed.',
  'timeline.summary.verification.default': 'Verifying receipt and evaluating output quality.',
  'timeline.summary.complete.closed': 'Mission closed. Score {score}/10, total spent {amount} MON.',
  'timeline.summary.complete.default': 'Mission flow completed.',
  'narrative.idle': 'mission.log',
  'narrative.done': 'Done',
  'narrative.inSeconds': 'in {seconds}s',
  'narrative.spent': '{amount} MON spent',
  'narrative.failed': 'Mission failed',
  'narrative.processing': 'Processing...',
  'narrative.agentFallback': 'agent',
  'narrative.runStarted': 'Mission initiated...',
  'narrative.decomposed': 'Decomposed into {count} phases',
  'narrative.phaseStarted': 'Phase {index}: {name}...',
  'narrative.scanning': 'Scanning {count} available agents...',
  'narrative.selected': 'Selected -> {name}',
  'narrative.quote': 'Quote received: {amount} MON',
  'narrative.paymentSettled': 'Payment settled âœ“',
  'narrative.paymentSending': 'Sending payment on-chain...',
  'narrative.working': '{name} is working...',
  'narrative.receiptVerified': 'Receipt verified',
  'narrative.evaluated': 'Evaluated: score {score}',
  'narrative.phaseCompleted': 'Phase {index} complete',
  'narrative.completed': 'Mission complete',
  'result.empty': '(No content)',
  'result.title': 'Final Result',
  'result.verified': 'Verified âœ“',
  'result.proofTitle': 'Proof of Execution (x402)',
  'result.provider': 'Provider',
  'result.signature': 'Signature',
  'result.requestHash': 'RequestHash',
  'result.paymentTx': 'PaymentTx',
  'trace.run_started': 'Mission Started',
  'trace.services_discovered': 'Service Discovery',
  'trace.service_selected': 'Service Selected',
  'trace.tool_call': 'Agent Reasoning',
  'trace.quote_received': 'Quote (x402)',
  'trace.payment_confirmed': 'Payment Confirmed',
  'trace.payment_submitted': 'Payment Submitted',
  'trace.payment_failed': 'Payment Failed',
  'trace.receipt_verified': 'Receipt Verified',
  'trace.run_completed': 'Mission Complete',
  'trace.error': 'Error',
  'trace.foundServices': 'Found {count} services in registry',
  'trace.price': 'Price: {amount} MON',
  'trace.viewOnExplorer': 'View on MonadScan',
  'trace.signatureValid': 'Signature Valid âœ“',
  'stream.runFailed': 'Run failed',
  'stream.invalidDonePayload': 'Invalid done payload',
  'stream.connectionInterrupted': 'Connection interrupted',
  'stream.failedToStart': 'Failed to start stream',
  'onboarding.error.walletNotConnected': 'Wallet not connected',
  'onboarding.error.registerFailed': 'Registration failed',
  'onboarding.error.registerFailedStatus': 'Register failed ({status})',
  'onboarding.error.httpStatus': 'HTTP {status}',
};

const ZH_CN_MESSAGES: MessageDictionary = {
  'locale.en-US': 'EN',
  'locale.zh-CN': 'ä¸­æ–‡',
  'dashboard.history': 'å†å²',
  'dashboard.historyTooltip': 'ä»»åŠ¡å†å²',
  'dashboard.network': 'Monad æµ‹è¯•ç½‘',
  'dashboard.status.IDLE': 'ç©ºé—²',
  'dashboard.status.RUNNING': 'è¿è¡Œä¸­',
  'dashboard.status.COMPLETED': 'å·²å®Œæˆ',
  'dashboard.status.ERROR': 'é”™è¯¯',
  'dashboard.tab.agent': 'agent.sys',
  'dashboard.tab.mission': 'mission.log',
  'dashboard.tab.mesh': 'mesh.net',
  'dashboard.errorPrefix': 'è¿è¡Œé”™è¯¯',
  'goal.placeholder': 'æè¿°ä½ çš„ä»»åŠ¡...',
  'goal.commandHint': 'å¯ç›´æ¥è¾“å…¥ `// write`ã€`// å†™ä½œ` ç­‰æŒ‡ä»¤ï¼Œæˆ–ç‚¹å‡»ä¸‹æ–¹é¢„è®¾å‘½ä»¤ã€‚',
  'goal.running': 'è¿è¡Œä¸­...',
  'goal.mode.commander': 'æŒ‡æŒ¥æ¨¡å¼',
  'goal.mode.single': 'å•æ­¥æ¨¡å¼',
  'goal.mode.commanderHint': 'å¤šé˜¶æ®µä»»åŠ¡',
  'goal.mode.singleHint': 'å•æ­¥éª¤ä»»åŠ¡',
  'preset.command.write': '// å†™ä½œ',
  'preset.command.audit': '// å®¡è®¡',
  'preset.command.fullAudit': '// å…¨å®¡è®¡',
  'preset.command.tokenReport': '// ä»£å¸æŠ¥å‘Š',
  'preset.command.defiStrategy': '// DeFiç­–ç•¥',
  'preset.param.contract': 'åˆçº¦',
  'preset.param.token': 'ä»£å¸',
  'preset.placeholder.contract': '0x... æˆ–åˆçº¦å',
  'preset.placeholder.token': 'ä»£å¸åæˆ– 0x åœ°å€',
  'preset.cancel': 'å–æ¶ˆ',
  'preset.execute': 'æ‰§è¡Œ',
  'preset.goal.write': 'å†™ä¸€ç¯‡ç®€æ´åˆ†æï¼Œè¯´æ˜ Monad å¹¶è¡Œæ‰§è¡Œæœºåˆ¶åŠå…¶å¯¹é“¾ä¸Š AI Agent çš„æ„ä¹‰ã€‚',
  'preset.goal.audit': 'å®¡è®¡åˆçº¦ {address} æ˜¯å¦å­˜åœ¨èµ„é‡‘æŸå¤±ç±»æ¼æ´ï¼šé‡ç‚¹æ£€æŸ¥é‡å…¥ã€æƒé™æ§åˆ¶å’Œæœªæ£€æŸ¥è¿”å›å€¼ã€‚',
  'preset.goal.fullAudit': 'å¯¹åˆçº¦ {address} åšä¸€æ¬¡å®Œæ•´å®‰å…¨å®¡æŸ¥ï¼šå…ˆå®¡è®¡ Solidity æ¼æ´ï¼Œå†æ‰«æ rug-pull é£é™©ä¿¡å·ï¼Œå†ä¼˜åŒ– gas ä½¿ç”¨ï¼Œæœ€åè¾“å‡ºå®Œæ•´å®‰å…¨æŠ¥å‘Šã€‚',
  'preset.goal.tokenReport': 'ä¸º {token} ç”ŸæˆæŠ•èµ„æŠ¥å‘Šï¼šå…ˆæ‰«æåˆçº¦é£é™©ï¼Œå†åˆ†æå…¶ DeFi ç”Ÿæ€æ½œåŠ›ï¼Œæœ€åå†™å‡ºåŒ…å«é£é™©æ”¶ç›Šåˆ†æçš„æŠ•èµ„ç»“è®ºã€‚',
  'preset.goal.defiStrategy': 'åˆ¶å®šä¸€å¥— Monad ä¸Šçš„ DeFi ç­–ç•¥ï¼šå…ˆåˆ†æå½“å‰æ”¶ç›Šç¯å¢ƒï¼Œå†æ‰«æå¤´éƒ¨åè®®ä»£å¸çš„å®‰å…¨æ€§ï¼Œæœ€åç»™å‡ºä¹¦é¢åŒ–çš„èµ„äº§é…ç½®æ–¹æ¡ˆã€‚',
  'history.empty': 'è¿˜æ²¡æœ‰ä»»åŠ¡è®°å½•',
  'history.clear': 'æ¸…ç©ºå†å²',
  'history.completed': 'å·²å®Œæˆ',
  'history.error': 'å¤±è´¥',
  'chain.block': 'åŒºå—',
  'chain.gas': 'Gas',
  'chain.connected': 'å·²è¿æ¥åˆ° Monad æµ‹è¯•ç½‘',
  'chain.disconnected': 'è¿æ¥æ–­å¼€',
  'onboarding.shellPath': 'å¼•å¯¼',
  'onboarding.skip': 'è·³åˆ°æ§åˆ¶å°',
  'onboarding.title': 'åˆ›å»ºä½ çš„ Agent',
  'onboarding.subtitle': 'æ³¨å†Œä¸€ä¸ªå¯åœ¨ Monad Agent Economy ä¸­è¿è¡Œçš„è‡ªæ²» Agentã€‚',
  'onboarding.step.wallet': 'é’±åŒ…',
  'onboarding.step.profile': 'èµ„æ–™',
  'onboarding.step.review': 'ç¡®è®¤',
  'onboarding.step.done': 'å®Œæˆ',
  'onboarding.connect.title': 'è¿æ¥ä½ çš„é’±åŒ…',
  'onboarding.connect.body': 'ä½ çš„é’±åŒ…ä¼šç»‘å®šåˆ° Monad ä¸Šçš„ Agent èº«ä»½ã€‚',
  'onboarding.connect.button': 'è¿æ¥é’±åŒ…',
  'onboarding.connect.connecting': 'è¿æ¥ä¸­...',
  'onboarding.connect.via': 'é€šè¿‡ {label}',
  'onboarding.profile.title': 'Agent èµ„æ–™',
  'onboarding.profile.connected': 'å·²è¿æ¥ï¼š{address}',
  'onboarding.profile.role': 'è§’è‰²',
  'onboarding.profile.name': 'Agent åç§°',
  'onboarding.profile.namePlaceholder': 'æˆ‘çš„ç¬¬ä¸€ä¸ª Agent',
  'onboarding.profile.description': 'æè¿°',
  'onboarding.profile.descriptionPlaceholder': 'è¿™ä¸ª Agent æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ',
  'onboarding.profile.trust': 'ä¿¡ä»»æ¨¡å‹',
  'onboarding.profile.back': 'è¿”å›',
  'onboarding.profile.review': 'é¢„è§ˆ',
  'onboarding.review.title': 'ç¡®è®¤å¹¶åˆ›å»º',
  'onboarding.review.wallet': 'é’±åŒ…',
  'onboarding.review.role': 'è§’è‰²',
  'onboarding.review.name': 'åç§°',
  'onboarding.review.trust': 'ä¿¡ä»»',
  'onboarding.review.edit': 'ç¼–è¾‘',
  'onboarding.review.create': 'åˆ›å»º Agent',
  'onboarding.review.creating': 'åˆ›å»ºä¸­...',
  'onboarding.complete.title': 'Agent å·²åˆ›å»º',
  'onboarding.complete.body': '{name} å·²åœ¨ Monad ä¸Šå°±ç»ªã€‚',
  'onboarding.complete.createAnother': 'ç»§ç»­åˆ›å»º',
  'onboarding.complete.goDashboard': 'è¿›å…¥æ§åˆ¶å°',
  'onboarding.terminal.target': '> ç›®æ ‡ç½‘ç»œï¼šMonad æµ‹è¯•ç½‘ Â· Chain 10143',
  'onboarding.terminal.ready': '> å·²å‡†å¤‡å¥½æ³¨å†Œä¸€ä¸ªè‡ªæ²» Agentã€‚',
  'onboarding.terminal.command.init': '$ rebel-mesh åˆå§‹åŒ–',
  'onboarding.terminal.command.connectWallet': '$ è¿æ¥é’±åŒ…',
  'onboarding.terminal.command.agentName': '$ ä»£ç†åç§° = ',
  'onboarding.terminal.command.role': '$ è§’è‰² = ',
  'onboarding.terminal.command.registerPreview': '$ rebel-mesh æ³¨å†Œ --é¢„è§ˆ',
  'onboarding.terminal.command.registerConfirm': '$ rebel-mesh æ³¨å†Œ --ç¡®è®¤',
  'onboarding.terminal.connected': 'âœ“ å·²è¿æ¥ï¼š{address}',
  'onboarding.terminal.network': 'âœ“ ç½‘ç»œï¼šMonad æµ‹è¯•ç½‘',
  'onboarding.terminal.launchingWallet': '> æ­£åœ¨æ‰“å¼€é’±åŒ…è¿æ¥å™¨...',
  'onboarding.terminal.nameSet': 'âœ“ åç§°å·²è®¾ç½®ï¼š"{name}"',
  'onboarding.terminal.selectRole': '> è¯·é€‰æ‹© Agent è§’è‰²ï¼š',
  'onboarding.terminal.roleOptionHunter': '  [1] ğŸ” çŒæ‰‹ - è‡ªæ²»ä»»åŠ¡æ‰§è¡Œè€…',
  'onboarding.terminal.roleOptionWriter': '  [2] âœï¸  å†™ä½œä»£ç† - AI æœåŠ¡æä¾›è€…',
  'onboarding.terminal.roleSet': 'âœ“ è§’è‰²ï¼š{emoji} {role}',
  'onboarding.terminal.previewName': '  é…ç½®åç§° .. {name}',
  'onboarding.terminal.previewMode': '  è¿è¡Œæ¨¡å¼ .. {mode}',
  'onboarding.terminal.previewEngine': '  æ ¸å¿ƒå¼•æ“ .. {engine}',
  'onboarding.terminal.previewRole': '  è§’è‰² ...... {role}',
  'onboarding.terminal.previewWallet': '  é’±åŒ… ...... {wallet}',
  'onboarding.terminal.previewTrust': '  ä¿¡ä»»æœºåˆ¶ .. {trust}',
  'onboarding.terminal.valModeHunter': 'è‡ªæ²»çŒæ‰‹ (Hunter)',
  'onboarding.terminal.valEngineV2': 'Commander V2 (ReAct)',
  'onboarding.terminal.registering': '> æ­£åœ¨æ³¨å†Œ Agent...',
  'onboarding.terminal.registered': 'âœ“ Agent "{name}" æ³¨å†ŒæˆåŠŸ',
  'onboarding.terminal.readyForDeployment': 'âœ“ å·²å‡†å¤‡å¥½è¿›å…¥éƒ¨ç½²é˜¶æ®µ',
  'onboarding.terminal.prompt.connectWallet': 'æŒ‰ [Enter] è¿æ¥é’±åŒ…...',
  'onboarding.terminal.prompt.begin': 'æŒ‰ [Enter] å¼€å§‹...',
  'onboarding.terminal.prompt.agentName': '> è¯·è¾“å…¥ Agent åç§°ï¼š',
  'onboarding.terminal.prompt.role': '> è¯·è¾“å…¥è§’è‰²åºå· (1æˆ–2)ï¼š',
  'onboarding.terminal.prompt.register': 'æŒ‰ [Enter] è¿æ¥é’±åŒ…å¹¶æ³¨å†Œ...',
  'onboarding.terminal.prompt.retryWallet': 'æŒ‰ [Enter] é‡æ–°è¿æ¥é’±åŒ…...',
  'onboarding.terminal.prompt.launchDashboard': 'æŒ‰ [Enter] è¿›å…¥æ§åˆ¶å°...',
  'onboarding.terminal.prompt.retry': 'æŒ‰ [Enter] é‡è¯•...',
  'onboarding.terminal.walletCancelled': 'âœ— é’±åŒ…è¿æ¥å·²å–æ¶ˆã€‚',
  'onboarding.role.hunter.label': 'çŒæ‰‹',
  'onboarding.role.hunter.desc': 'å‘ç°å¹¶æ¶ˆè´¹æœåŠ¡',
  'onboarding.role.writer.label': 'å†™ä½œä»£ç†',
  'onboarding.role.writer.desc': 'æä¾›å†…å®¹ç”ŸæˆæœåŠ¡',
  'onboarding.trust.reputation': 'å£°èª‰',
  'onboarding.trust.crypto-economic': 'åŠ å¯†ç»æµ',
  'panel.memory': 'è®°å¿†ç”»åƒ',
  'panel.onchain': 'é“¾ä¸Šä¿¡æ¯',
  'panel.agentId': 'AGENT_ID',
  'panel.registered': '[ERC-8004 å·²æ³¨å†Œ]',
  'agent.connecting': 'æ­£åœ¨è¿æ¥ Agent...',
  'agent.offline': 'Agent ç¦»çº¿',
  'agent.retry': 'é‡è¯•',
  'agent.copied': 'å·²å¤åˆ¶',
  'identity.timeout': 'è¯·æ±‚è¶…æ—¶ï¼ˆ{ms}msï¼‰',
  'identity.offline': 'Agent ç¦»çº¿ï¼Œè¿æ¥è¢«æ‹’ç»',
  'memory.overview': 'æ¦‚è§ˆ',
  'memory.runs': 'ä»»åŠ¡æ•°',
  'memory.score': 'è¯„åˆ†',
  'memory.spent': 'èŠ±è´¹',
  'memory.hires': 'è°ƒç”¨æ¬¡æ•°',
  'memory.skillRadar': 'æŠ€èƒ½é›·è¾¾',
  'memory.noSkills': 'æš‚æ— å†å²æŠ€èƒ½æ•°æ®ã€‚',
  'memory.coreInsights': 'æ ¸å¿ƒæ´å¯Ÿ',
  'memory.noInsights': 'è¿˜æ²¡æœ‰æç‚¼å‡ºçš„ç»éªŒã€‚',
  'memory.seenTimes': 'å‡ºç° {count} æ¬¡',
  'memory.unavailable': 'ç”»åƒæš‚ä¸å¯ç”¨',
  'memory.unavailableWithError': 'ç”»åƒæš‚ä¸å¯ç”¨ï¼š{error}',
  'memory.staleCache': 'ç¼“å­˜ä¸æ˜¯æœ€æ–°',
  'taskType.content-generation': 'å†…å®¹ç”Ÿæˆ',
  'taskType.smart-contract-audit': 'åˆçº¦å®¡è®¡',
  'taskType.defi-analysis': 'DeFi åˆ†æ',
  'taskType.gas-optimization': 'Gas ä¼˜åŒ–',
  'taskType.token-scan': 'ä»£å¸æ‰«æ',
  'taskType.tx-decode': 'äº¤æ˜“è§£ç ',
  'taskType.abi-interact': 'ABI äº¤äº’',
  'taskType.yield-search': 'æ”¶ç›Šæœç´¢',
  'live.title': 'å½“å‰ä»»åŠ¡',
  'live.status': 'çŠ¶æ€',
  'live.spent': 'èŠ±è´¹',
  'live.txCount': 'äº¤æ˜“æ•°',
  'live.duration': 'è€—æ—¶',
  'live.goal': 'ç›®æ ‡',
  'mesh.title': 'mesh.net',
  'mesh.kind.writer': 'å†™ä½œ',
  'mesh.kind.auditor': 'å®¡è®¡',
  'mesh.kind.defi': 'åˆ†æ',
  'mesh.kind.gas': 'Gas',
  'mesh.kind.scanner': 'æ‰«æ',
  'mesh.kind.decoder': 'è§£ç ',
  'mesh.kind.abi': 'ABI',
  'mesh.kind.yield': 'æ”¶ç›Š',
  'mesh.kind.unknown': 'æœªçŸ¥',
  'mesh.status.online': 'åœ¨çº¿',
  'mesh.status.selected': 'å·²é€‰ä¸­',
  'mesh.status.used': 'å·²ä½¿ç”¨',
  'mesh.status.failed': 'å¤±è´¥',
  'mesh.price': 'ä»·æ ¼',
  'mesh.rep': 'å£°èª‰',
  'mesh.samples': 'æ ·æœ¬æ•°',
  'mesh.warmingUp': 'æ ·æœ¬ç§¯ç´¯ä¸­',
  'mesh.lastUsed': 'æœ€è¿‘ä½¿ç”¨',
  'timeline.phase.thinking': 'æ€è€ƒ',
  'timeline.phase.discovery': 'å‘ç°',
  'timeline.phase.decision': 'å†³ç­–',
  'timeline.phase.payment': 'æ”¯ä»˜',
  'timeline.phase.execution': 'æ‰§è¡Œ',
  'timeline.phase.verification': 'éªŒè¯',
  'timeline.phase.complete': 'å®Œæˆ',
  'timeline.phaseStatus.pending': 'å¾…å¤„ç†',
  'timeline.phaseStatus.active': 'è¿›è¡Œä¸­',
  'timeline.phaseStatus.done': 'å·²å®Œæˆ',
  'timeline.phaseStatus.error': 'é”™è¯¯',
  'timeline.awaiting': 'ç­‰å¾…ä»»åŠ¡è¾“å…¥',
  'timeline.failed': 'ä»»åŠ¡åœ¨å®Œæˆå‰å¤±è´¥',
  'timeline.summary.thinking.received': 'å·²æ¥æ”¶ä»»åŠ¡ï¼š{goal}',
  'timeline.summary.thinking.default': 'æ­£åœ¨è§„åˆ’æ‰§è¡Œç­–ç•¥ã€‚',
  'timeline.summary.discovery.found': 'å‘ç° {count} ä¸ªå¯ç”¨æœåŠ¡æä¾›æ–¹ã€‚',
  'timeline.summary.discovery.default': 'æ­£åœ¨æ‰«æå¯ç”¨æœåŠ¡æä¾›æ–¹ã€‚',
  'timeline.summary.decision.switched': 'å·²ä» {from} åˆ‡æ¢åˆ° {to}ã€‚',
  'timeline.summary.decision.selected': 'å·²é€‰æ‹©æœåŠ¡ï¼š{id}ã€‚',
  'timeline.summary.decision.default': 'æ ¹æ®ä»·æ ¼å’Œå£°èª‰é€‰æ‹©æœ€ä½³æœåŠ¡ã€‚',
  'timeline.summary.payment.quotedStatus': 'æŠ¥ä»· {amount} MONï¼ŒçŠ¶æ€ï¼š{status}ã€‚',
  'timeline.summary.payment.quoted': 'å·²æ”¶åˆ°æŠ¥ä»·ï¼š{amount} MONã€‚',
  'timeline.summary.payment.default': 'æ­£åœ¨å‡†å¤‡å¹¶æäº¤ x402 æ”¯ä»˜ã€‚',
  'timeline.summary.execution.ready': 'ç»“æœå·²è¿”å›ï¼š{content}',
  'timeline.summary.execution.default': 'æœåŠ¡å•†å·²åœ¨æ”¯ä»˜å®Œæˆåå¼€å§‹æ‰§è¡Œã€‚',
  'timeline.summary.verification.verifiedScore': 'å›æ‰§å·²éªŒè¯ï¼Œè¾“å‡ºè¯„åˆ† {score}/10ã€‚',
  'timeline.summary.verification.awaiting': 'ç­‰å¾…å›æ‰§...',
  'timeline.summary.verification.verified': 'å›æ‰§ç­¾åéªŒè¯å®Œæˆã€‚',
  'timeline.summary.verification.default': 'æ­£åœ¨éªŒè¯å›æ‰§å¹¶è¯„ä¼°è¾“å‡ºè´¨é‡ã€‚',
  'timeline.summary.complete.closed': 'ä»»åŠ¡å·²ç»“æŸã€‚è¯„åˆ† {score}/10ï¼Œæ€»èŠ±è´¹ {amount} MONã€‚',
  'timeline.summary.complete.default': 'ä»»åŠ¡æµç¨‹å·²å®Œæˆã€‚',
  'narrative.idle': 'mission.log',
  'narrative.done': 'å·²å®Œæˆ',
  'narrative.inSeconds': '{seconds}ç§’',
  'narrative.spent': 'å·²èŠ±è´¹ {amount} MON',
  'narrative.failed': 'ä»»åŠ¡å¤±è´¥',
  'narrative.processing': 'å¤„ç†ä¸­...',
  'narrative.agentFallback': 'æœåŠ¡',
  'narrative.runStarted': 'ä»»åŠ¡å·²å¯åŠ¨...',
  'narrative.decomposed': 'å·²æ‹†åˆ†ä¸º {count} ä¸ªé˜¶æ®µ',
  'narrative.phaseStarted': 'é˜¶æ®µ {index}ï¼š{name}...',
  'narrative.scanning': 'æ­£åœ¨æ‰«æ {count} ä¸ªå¯ç”¨ Agent...',
  'narrative.selected': 'å·²é€‰æ‹© -> {name}',
  'narrative.quote': 'å·²æ”¶åˆ°æŠ¥ä»·ï¼š{amount} MON',
  'narrative.paymentSettled': 'æ”¯ä»˜å·²ç¡®è®¤ âœ“',
  'narrative.paymentSending': 'æ­£åœ¨é“¾ä¸Šå‘é€æ”¯ä»˜...',
  'narrative.working': '{name} æ­£åœ¨æ‰§è¡Œ...',
  'narrative.receiptVerified': 'å›æ‰§å·²éªŒè¯',
  'narrative.evaluated': 'å·²è¯„ä¼°ï¼šå¾—åˆ† {score}',
  'narrative.phaseCompleted': 'é˜¶æ®µ {index} å·²å®Œæˆ',
  'narrative.completed': 'ä»»åŠ¡å®Œæˆ',
  'result.empty': 'ï¼ˆæ— å†…å®¹ï¼‰',
  'result.title': 'æœ€ç»ˆç»“æœ',
  'result.verified': 'å·²éªŒè¯ âœ“',
  'result.proofTitle': 'æ‰§è¡Œè¯æ˜ï¼ˆx402ï¼‰',
  'result.provider': 'æœåŠ¡æ–¹',
  'result.signature': 'ç­¾å',
  'result.requestHash': 'è¯·æ±‚å“ˆå¸Œ',
  'result.paymentTx': 'æ”¯ä»˜äº¤æ˜“',
  'trace.run_started': 'ä»»åŠ¡å·²å¯åŠ¨',
  'trace.services_discovered': 'æœåŠ¡å‘ç°',
  'trace.service_selected': 'æœåŠ¡å·²é€‰æ‹©',
  'trace.tool_call': 'Agent æ¨ç†',
  'trace.quote_received': 'æŠ¥ä»·ï¼ˆx402ï¼‰',
  'trace.payment_confirmed': 'æ”¯ä»˜å·²ç¡®è®¤',
  'trace.payment_submitted': 'æ”¯ä»˜å·²æäº¤',
  'trace.payment_failed': 'æ”¯ä»˜å¤±è´¥',
  'trace.receipt_verified': 'å›æ‰§å·²éªŒè¯',
  'trace.run_completed': 'ä»»åŠ¡å®Œæˆ',
  'trace.error': 'é”™è¯¯',
  'trace.foundServices': 'åœ¨æ³¨å†Œè¡¨ä¸­å‘ç° {count} ä¸ªæœåŠ¡',
  'trace.price': 'ä»·æ ¼ï¼š{amount} MON',
  'trace.viewOnExplorer': 'åœ¨ MonadScan æŸ¥çœ‹',
  'trace.signatureValid': 'ç­¾åæœ‰æ•ˆ âœ“',
  'stream.runFailed': 'ä»»åŠ¡è¿è¡Œå¤±è´¥',
  'stream.invalidDonePayload': 'å®Œæˆäº‹ä»¶è½½è·æ— æ•ˆ',
  'stream.connectionInterrupted': 'è¿æ¥å·²ä¸­æ–­',
  'stream.failedToStart': 'å¯åŠ¨æµå¤±è´¥',
  'onboarding.error.walletNotConnected': 'é’±åŒ…æœªè¿æ¥',
  'onboarding.error.registerFailed': 'æ³¨å†Œå¤±è´¥',
  'onboarding.error.registerFailedStatus': 'æ³¨å†Œå¤±è´¥ï¼ˆ{status}ï¼‰',
  'onboarding.error.httpStatus': 'è¯·æ±‚å¤±è´¥ï¼šHTTP {status}',
};

const MESSAGES: Record<LanguageCode, MessageDictionary> = {
  'en-US': EN_US_MESSAGES,
  'zh-CN': ZH_CN_MESSAGES,
};

export function normalizeLocale(input: unknown): LanguageCode {
  if (typeof input !== 'string') return DEFAULT_LOCALE;
  if (input === 'zh-CN' || input.toLowerCase().startsWith('zh')) return 'zh-CN';
  return 'en-US';
}

export function getBrowserLocale(): LanguageCode {
  if (typeof navigator === 'undefined') return DEFAULT_LOCALE;
  return normalizeLocale(navigator.language);
}

export function translate(
  locale: LanguageCode,
  key: string,
  variables?: MessageVariables,
): string {
  const template = MESSAGES[locale][key] ?? MESSAGES[DEFAULT_LOCALE][key] ?? key;
  if (!variables) return template;
  return template.replace(/\{(\w+)\}/g, (_, token: string) => {
    const value = variables[token];
    return value === undefined ? `{${token}}` : String(value);
  });
}

export function formatLocaleNumber(locale: LanguageCode, value: number): string {
  return new Intl.NumberFormat(locale).format(value);
}

export function formatLocaleTime(locale: LanguageCode, value: Date | string): string {
  const date = typeof value === 'string' ? new Date(value) : value;
  return new Intl.DateTimeFormat(locale, {
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit',
  }).format(date);
}

export function formatDuration(locale: LanguageCode, seconds: number | null | undefined): string {
  if (seconds === null || seconds === undefined) return '--';
  return locale === 'zh-CN' ? `${seconds}ç§’` : `${seconds}s`;
}

export function formatRelativeMilliseconds(locale: LanguageCode, timestamp: number): string {
  return formatRelativeSeconds(locale, Math.floor((Date.now() - timestamp) / 1000));
}

export function formatRelativeUnixTime(locale: LanguageCode, timestamp: number | undefined): string {
  if (!timestamp || timestamp <= 0) {
    return locale === 'zh-CN' ? 'ä»æœª' : 'never';
  }
  return formatRelativeSeconds(locale, Math.floor(Date.now() / 1000) - timestamp);
}

export function formatRelativeSeconds(locale: LanguageCode, seconds: number): string {
  if (seconds < 60) {
    return locale === 'zh-CN' ? 'åˆšåˆš' : 'just now';
  }
  if (seconds < 3600) {
    const minutes = Math.floor(seconds / 60);
    return locale === 'zh-CN' ? `${minutes}åˆ†é’Ÿå‰` : `${minutes}m ago`;
  }
  if (seconds < 86400) {
    const hours = Math.floor(seconds / 3600);
    return locale === 'zh-CN' ? `${hours}å°æ—¶å‰` : `${hours}h ago`;
  }
  const days = Math.floor(seconds / 86400);
  return locale === 'zh-CN' ? `${days}å¤©å‰` : `${days}d ago`;
}
